<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{
      --bg0:#070A12;
      --bg1:#0C1020;
      --card:#0E1430;
      --card2:#101A3A;
      --text:#EAF0FF;
      --muted:rgba(234,240,255,.72);
      --faint:rgba(234,240,255,.45);
      --line:rgba(234,240,255,.12);
      --good:#22C55E;
      --warn:#F59E0B;
      --bad:#EF4444;
      --chip:rgba(234,240,255,.10);
      --shadow: 0 18px 50px rgba(0,0,0,.55);
      --radius: 22px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    html, body {
      margin:0; padding:0;
      background: radial-gradient(1200px 600px at 20% -10%, rgba(99,102,241,.25), transparent 60%),
                  radial-gradient(900px 500px at 120% 20%, rgba(34,197,94,.18), transparent 55%),
                  linear-gradient(180deg, var(--bg0), var(--bg1));
      font-family: var(--sans);
      color: var(--text);
    }

    /* --- Fixed card canvas size for consistent JPGs --- */
    .canvas {
      width: 980px;
      height: 560px;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 28px;
      box-sizing:border-box;
    }

    .card {
      width: 924px;
      height: 504px;
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,.10);
      overflow:hidden;
      position:relative;
    }

    .card::before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(520px 300px at 10% 10%, rgba(99,102,241,.30), transparent 55%),
        radial-gradient(520px 300px at 90% 30%, rgba(34,197,94,.22), transparent 55%),
        radial-gradient(520px 300px at 60% 120%, rgba(245,158,11,.18), transparent 55%);
      filter: blur(0px);
      opacity:.75;
      pointer-events:none;
    }

    .inner{
      position:absolute; inset:14px;
      border-radius: calc(var(--radius) - 10px);
      background: linear-gradient(180deg, rgba(16,26,58,.90), rgba(12,16,32,.92));
      border: 1px solid rgba(255,255,255,.08);
      overflow:hidden;
      display:flex;
      flex-direction:column;
    }

    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 18px 20px 14px 20px;
      border-bottom: 1px solid var(--line);
      gap:12px;
    }

    .brand{
      display:flex; align-items:center; gap:12px;
      min-width: 220px;
    }

    .logo{
      width: 42px; height:42px;
      border-radius: 14px;
      background: linear-gradient(135deg, rgba(99,102,241,.95), rgba(34,197,94,.90));
      display:flex; align-items:center; justify-content:center;
      font-weight:800;
      letter-spacing:.5px;
      box-shadow: 0 10px 25px rgba(0,0,0,.35);
    }

    .brandtext .name{
      font-weight:800;
      letter-spacing:.3px;
      font-size: 16px;
      line-height: 1.1;
    }
    .brandtext .tag{
      font-size: 12px;
      color: var(--muted);
      margin-top: 2px;
    }

    .match{
      flex:1;
      text-align:center;
      padding: 0 6px;
    }
    .match .title{
      font-weight:900;
      font-size: 24px;
      letter-spacing:.2px;
      line-height: 1.15;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .match .sub{
      margin-top: 6px;
      font-size: 13px;
      color: var(--muted);
      display:flex;
      gap:10px;
      justify-content:center;
      flex-wrap:wrap;
    }

    .pill{
      background: var(--chip);
      border: 1px solid rgba(255,255,255,.10);
      color: var(--text);
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 12px;
      display:inline-flex;
      align-items:center;
      gap:8px;
    }

    .rightmeta{
      min-width: 240px;
      display:flex;
      flex-direction:column;
      align-items:flex-end;
      gap:8px;
    }

    .asof{
      font-size: 12px;
      color: var(--muted);
    }

    /* Body grid */
    .body{
      display:grid;
      grid-template-columns: 1.1fr 1.2fr 0.9fr;
      gap: 14px;
      padding: 16px 16px 16px 16px;
      height: 100%;
      box-sizing:border-box;
    }

    .panel{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border: 1px solid rgba(255,255,255,.08);
      border-radius: 18px;
      padding: 14px;
      position:relative;
      overflow:hidden;
    }

    .panel h3{
      margin:0;
      font-size: 13px;
      letter-spacing:.5px;
      color: var(--muted);
      font-weight:800;
      text-transform:uppercase;
    }

    .bigscore{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      margin-top: 12px;
      gap: 12px;
    }

    .scoreleft{
      display:flex;
      flex-direction:column;
      gap:6px;
    }

    .scorevalue{
      font-size: 54px;
      font-weight:950;
      line-height: 1;
      letter-spacing:-1px;
    }

    .stars{
      font-size: 16px;
      letter-spacing:2px;
      color: rgba(234,240,255,.90);
    }

    .badge{
      padding: 8px 10px;
      border-radius: 14px;
      font-size: 12px;
      font-weight:800;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.12);
      color: var(--text);
      display:inline-flex;
      align-items:center;
      gap: 8px;
      max-width: 190px;
      justify-content:center;
      text-align:center;
    }

    .badge.good{ background: rgba(34,197,94,.16); border-color: rgba(34,197,94,.22); }
    .badge.warn{ background: rgba(245,158,11,.16); border-color: rgba(245,158,11,.22); }
    .badge.bad{  background: rgba(239,68,68,.16); border-color: rgba(239,68,68,.22); }

    .kv{
      margin-top: 12px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    .k{
      padding: 10px 10px;
      border-radius: 14px;
      background: rgba(0,0,0,.16);
      border: 1px solid rgba(255,255,255,.08);
    }
    .k .label{
      font-size: 11px;
      color: var(--faint);
      letter-spacing:.4px;
      text-transform:uppercase;
      font-weight:800;
    }
    .k .val{
      margin-top: 4px;
      font-size: 14px;
      font-weight:800;
      color: var(--text);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    /* Price / Delta panel */
    .pricegrid{
      margin-top: 12px;
      display:grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }

    .row{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(0,0,0,.16);
      border: 1px solid rgba(255,255,255,.08);
      gap: 10px;
    }

    .row .label{
      font-size: 12px;
      color: var(--muted);
      font-weight:800;
      letter-spacing:.2px;
    }

    .row .val{
      font-family: var(--mono);
      font-size: 14px;
      font-weight:800;
      color: var(--text);
      text-align:right;
      white-space:nowrap;
    }

    .deltaWrap{
      margin-top: 12px;
      padding: 12px;
      border-radius: 16px;
      background: rgba(0,0,0,.16);
      border: 1px solid rgba(255,255,255,.08);
    }

    .deltaTop{
      display:flex; justify-content:space-between; align-items:center;
      gap:10px;
    }

    .deltaTop .deltaLabel{
      font-size: 12px;
      color: var(--muted);
      font-weight:900;
      letter-spacing:.2px;
    }

    .deltaTop .deltaVal{
      font-family: var(--mono);
      font-weight:900;
      font-size: 16px;
    }

    .bar{
      margin-top: 10px;
      height: 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.10);
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.10);
    }

    .bar > span{
      display:block;
      height:100%;
      width: 50%;
      background: linear-gradient(90deg, rgba(99,102,241,.95), rgba(34,197,94,.95));
      border-radius: 999px;
    }

    /* Execution panel */
    .riskstack{
      margin-top: 12px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }

    .meter{
      padding: 12px;
      border-radius: 16px;
      background: rgba(0,0,0,.16);
      border: 1px solid rgba(255,255,255,.08);
    }

    .meterTop{
      display:flex; justify-content:space-between; align-items:center;
      gap:10px;
    }

    .meterTop .label{
      font-size: 12px;
      color: var(--muted);
      font-weight:900;
      letter-spacing:.2px;
    }
    .meterTop .val{
      font-family: var(--mono);
      font-weight:900;
      font-size: 14px;
    }

    .meterBar{
      margin-top: 10px;
      height: 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.10);
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.10);
    }

    .meterBar > span{
      display:block;
      height:100%;
      width: 60%;
      background: linear-gradient(90deg, rgba(245,158,11,.95), rgba(239,68,68,.95));
      border-radius: 999px;
    }

    .footer{
      position:absolute;
      bottom: 12px;
      left: 16px;
      right: 16px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      color: var(--muted);
      font-size: 11px;
      border-top: 1px solid rgba(255,255,255,.08);
      padding-top: 10px;
      gap: 10px;
    }

    .footleft{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }

    .chip{
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.07);
      border: 1px solid rgba(255,255,255,.10);
      color: rgba(234,240,255,.82);
      font-weight:700;
    }

    .note{
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width: 520px;
      color: rgba(234,240,255,.70);
    }
  </style>
</head>

<body>
  <div class="canvas">
    <div class="card">
      <div class="inner">
        <div class="topbar">
          <div class="brand">
            <div class="logo">A</div>
            <div class="brandtext">
              <div class="name">Arbstack</div>
              <div class="tag">ArbCard v1 â€¢ Market Intelligence</div>
            </div>
          </div>

          <div class="match">
            <div class="title">{{ match }}</div>
            <div class="sub">
              <span class="pill">Market: <b>{{ market }}</b></span>
              <span class="pill">Edge: <b>{{ edge_type }}</b></span>
              <span class="pill">Source: <b>{{ source }}</b></span>
            </div>
          </div>

          <div class="rightmeta">
            <div class="asof">As of {{ as_of }}</div>
            <div class="pill">ID: <span style="font-family:var(--mono); font-weight:900;">{{ id }}</span></div>
          </div>
        </div>

        <div class="body">
          <!-- Panel 1: Score + key details -->
          <div class="panel">
            <h3>Signal</h3>

            <div class="bigscore">
              <div class="scoreleft">
                <div class="scorevalue">{{ arb_score }}</div>
                <div class="stars">{{ stars }}</div>
              </div>
              <div class="badge {{ score_class }}">{{ score_label }}</div>
            </div>

            <div class="kv">
              <div class="k">
                <div class="label">Execution Risk</div>
                <div class="val">{{ execution_risk }}</div>
              </div>
              <div class="k">
                <div class="label">Volatility</div>
                <div class="val">{{ volatility }}</div>
              </div>
              <div class="k">
                <div class="label">Confidence</div>
                <div class="val">{{ confidence }}/5</div>
              </div>
              <div class="k">
                <div class="label">Sizing Tier</div>
                <div class="val">{{ sizing_tier }}</div>
              </div>
            </div>
          </div>

          <!-- Panel 2: Prices + delta -->
          <div class="panel">
            <h3>Pricing</h3>

            <div class="pricegrid">
              <div class="row">
                <div class="label">Best Price</div>
                <div class="val">{{ best_price }}</div>
              </div>
              <div class="row">
                <div class="label">Fair Price</div>
                <div class="val">{{ fair_price }}</div>
              </div>
              <div class="row">
                <div class="label">Implied Edge</div>
                <div class="val">{{ delta }}</div>
              </div>
              <div class="row">
                <div class="label">Drift</div>
                <div class="val">{{ drift }}</div>
              </div>
            </div>

            <div class="deltaWrap">
              <div class="deltaTop">
                <div class="deltaLabel">Edge Meter</div>
                <div class="deltaVal">{{ delta }}</div>
              </div>
              <div class="bar"><span style="width: {{ edge_meter }}%;"></span></div>
              <div style="margin-top:8px; color:var(--muted); font-size:12px;">
                {{ reason }}
              </div>
            </div>
          </div>

          <!-- Panel 3: Execution -->
          <div class="panel">
            <h3>Execution</h3>

            <div class="riskstack">
              <div class="meter">
                <div class="meterTop">
                  <div class="label">Spread / Slippage</div>
                  <div class="val">{{ slippage }}</div>
                </div>
                <div class="meterBar"><span style="width: {{ slippage_meter }}%;"></span></div>
              </div>

              <div class="meter">
                <div class="meterTop">
                  <div class="label">Liquidity</div>
                  <div class="val">{{ liquidity }}</div>
                </div>
                <div class="meterBar"><span style="width: {{ liquidity_meter }}%;"></span></div>
              </div>

              <div class="meter">
                <div class="meterTop">
                  <div class="label">Time to Resolution</div>
                  <div class="val">{{ ttr }}</div>
                </div>
                <div class="meterBar"><span style="width: {{ ttr_meter }}%;"></span></div>
              </div>
            </div>

            <div class="footer">
              <div class="footleft">
                <span class="chip">{{ league }}</span>
                <span class="chip">{{ kickoff }}</span>
                <span class="chip">{{ category }}</span>
              </div>
              <div class="note">{{ note }}</div>
            </div>
          </div>
        </div>
      </div>
    </div><!-- card -->
  </div><!-- canvas -->
</body>
</html>
